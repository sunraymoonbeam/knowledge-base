---
title: 3. pdm
---

<div style="text-align: center;">
    <img src="https://raw.githubusercontent.com/pdm-project/pdm/main/docs/assets/logo_big.png" style="transform: scale(0.8);">
</div>


# Resources
1. https://pdm-project.org/en/latest/


# Table of Contents
0. [Summary](#summary)
1. [Introduction to pip](#introduction)
2. [Python Packages](#python-packages)
3. [pip commands](#pip-commands)

## Summary
---
| S/N | Command          | Description                                                                                                   |
|-----|------------------|---------------------------------------------------------------------------------------------------------------|
| 1   | `pdm init`       | Initializes a new PDM project, creating a new `pyproject.toml` file.                                          |
| 2   | `pdm add <pkg>`  | Adds a specified package (e.g., `torch`) to the project's dependencies and updates the `pyproject.toml` file. |
| 3   | `pdm lock`       | Generates a `pdm.lock` file that locks the dependencies of the project.                                       |
| 4   | `pdm sync`       | Syncs the project's dependencies with the `pyproject.toml` file, installing any missing packages.             |
| 5   | `pdm install`    | Installs the dependencies listed in the `pyproject.toml` file.                                                |
| 6   | `pdm remove <pkg>`| Removes a specified package from the project's dependencies.                                                 |
| 7   | `pdm export`     | Exports the dependencies to a different format, such as `requirements.txt`.                                   |


## PDM
TBC

### `pyproject.toml`

The `pyproject.toml` file is a configuration file used by modern Python tools like `poetry`, `pdm`, and `uv` to manage project dependencies and settings. It is similar to the `setup.py` file used by `setuptools`, but it is more flexible and easier to work with.

### `lock file`

The `lock file` is a file generated by package managers like `poetry`, `pdm`, and `uv` that contains a list of all the dependencies and their versions used in the project. It ensures that the project's dependencies are consistent across different environments and builds.

The `lock file` should be committed to version control to ensure that the project is reproducible.

---

###  PDM Dependency Management
View the [documentation](https://pdm-project.org/en/latest/).


### Installation of PDM
To get started with PDM, you'll need to install it first. For environment management, we prefer using Conda instead of the standard `venv` used along with poetry / pdm / uv. You can set up a new Conda environment with the following command:

```bash
conda create -n pdm_test python=3.11
```

After creating the environment, install PDM using pip:

```bash
pip install pdm
```

### Creating a New Project with PDM
To create a new project using PDM, execute the following command:

```bash
pdm init
```

You will be prompted to answer a series of questions to configure your project. Notably, PDM can automatically detect the existing environment and Python interpreter, selecting them for you. 

If the current directory is empty, this command will generate a new project structure, which includes the following files and directories:

```plaintext
├── README.md
├── __pycache__
├── **pyproject.toml** -> IMPORTANT
├── src
│   └── pdm_test
│       ├── __init__.py
│       └── __pycache__
└── tests
    ├── __init__.py
    └── __pycache__
```

If the directory already contains files, PDM can initialize the project while detecting existing configurations, such as importing dependencies from a `requirements.txt` file into the new `pyproject.toml`.

### Configuration in `pyproject.toml`
Upon initialization, a `pyproject.toml` file will be created in the current directory. This file serves as the main configuration file for your project and its dependencies. Here is an example of what it might look like:

```toml
[project]
name = "pdm_test"
version = "0.1.0"
description = "Default template for PDM package"
authors = [
    {name = "", email = ""},
    {name = "zack low", email = "low_renhwa@aiap.sg"},
]
dependencies = [
    "numpy==1.24.3",
    "pandas==2.0.1",
]
requires-python = "==3.11.*"
readme = "README.md"
license = {text = "MIT"}

[tool.pdm]
distribution = false
```

### Adding Dependencies
To add a new dependency to your project, use the following command:

```bash
pdm add torch
```

This command will add the `torch` package to the project's dependencies and automatically update the `pyproject.toml` file as shown below:

```toml
[project]
name = "pdm_test"
version = "0.1.0"
description = "Default template for PDM package"
authors = [
    {name = "", email = ""},
    {name = "zack low", email = "low_renhwa@aiap.sg"},
]
dependencies = [
    "numpy==1.24.3",
    "pandas==2.0.1",
    "torch==2.0.0",
]
requires-python = "==3.11.*"
readme = "README.md"
license = {text = "MIT"}

[tool.pdm]
distribution = false
```

In addition to updating the `pyproject.toml` file, a `pdm.lock` file will also be generated to lock the current state of your dependencies, ensuring reproducibility in your project environment.

---

### Replicating an Existisng PDM Project

To replicate an existing PDM project, begin by cloning the repository, creating a new environment, and installing PDM. After that, use PDM to install the project's dependencies from the `pyproject.toml` file:
```bash
pdm install
```
Since PDM relies solely on the lock file for package installations, it is essential to include this file in source control to ensure accurate replication of the project's dependencies.